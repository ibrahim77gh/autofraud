"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/crisp-sdk-web";
exports.ids = ["vendor-chunks/crisp-sdk-web"];
exports.modules = {

/***/ "(ssr)/./node_modules/crisp-sdk-web/dist/crisp.esm.js":
/*!******************************************************!*\
  !*** ./node_modules/crisp-sdk-web/dist/crisp.esm.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatboxColors: () => (/* binding */ ChatboxColors),\n/* harmony export */   ChatboxPosition: () => (/* binding */ ChatboxPosition),\n/* harmony export */   Crisp: () => (/* binding */ singleton),\n/* harmony export */   CrispClass: () => (/* binding */ Crisp),\n/* harmony export */   EventsColors: () => (/* binding */ EventsColors)\n/* harmony export */ });\nvar CrispMessage = /** @class */ (function () {\n    function CrispMessage(crisp) {\n        this.parent = crisp;\n    }\n    CrispMessage.prototype.send = function (type, content) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"do\", \"message:send\", [type, content]]);\n    };\n    CrispMessage.prototype.sendText = function (content) {\n        this.send(\"text\", content);\n    };\n    CrispMessage.prototype.sendFile = function (content) {\n        this.send(\"file\", content);\n    };\n    CrispMessage.prototype.sendAnimation = function (content) {\n        this.send(\"animation\", content);\n    };\n    CrispMessage.prototype.sendAudio = function (content) {\n        this.send(\"audio\", content);\n    };\n    CrispMessage.prototype.show = function (type, content) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"do\", \"message:show\", [type, content]]);\n    };\n    CrispMessage.prototype.showText = function (content) {\n        this.show(\"text\", content);\n    };\n    CrispMessage.prototype.showFile = function (content) {\n        this.show(\"file\", content);\n    };\n    CrispMessage.prototype.showAnimation = function (content) {\n        this.show(\"animation\", content);\n    };\n    CrispMessage.prototype.showAudio = function (content) {\n        this.show(\"audio\", content);\n    };\n    CrispMessage.prototype.showPicker = function (content) {\n        this.show(\"picker\", content);\n    };\n    CrispMessage.prototype.showField = function (content) {\n        this.show(\"field\", content);\n    };\n    CrispMessage.prototype.showCarousel = function (content) {\n        this.show(\"carousel\", content);\n    };\n    CrispMessage.prototype.markAsRead = function () {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"do\", \"message:read\"]);\n    };\n    CrispMessage.prototype.startThread = function (name) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"do\", \"message:thread:start\", [name]]);\n    };\n    CrispMessage.prototype.endThread = function (name) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"do\", \"message:thread:end\", [name]]);\n    };\n    CrispMessage.prototype.onMessageSent = function (callback) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"off\", \"message:sent\"]);\n        window.$crisp.push([\"on\", \"message:sent\", callback]);\n    };\n    CrispMessage.prototype.onMessageReceived = function (callback) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"off\", \"message:received\"]);\n        window.$crisp.push([\"on\", \"message:received\", callback]);\n    };\n    CrispMessage.prototype.onMessageComposeSent = function (callback) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"off\", \"message:compose:sent\"]);\n        window.$crisp.push([\"on\", \"message:compose:sent\", callback]);\n    };\n    CrispMessage.prototype.onMessageComposeReceived = function (callback) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"off\", \"message:compose:received\"]);\n        window.$crisp.push([\"on\", \"message:compose:received\", callback]);\n    };\n    return CrispMessage;\n}());\n\nvar CrispUser = /** @class */ (function () {\n    function CrispUser(crisp) {\n        this.parent = crisp;\n    }\n    CrispUser.prototype.setNickname = function (nickname) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"set\", \"user:nickname\", [nickname]]);\n    };\n    CrispUser.prototype.setEmail = function (email, hmac) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"set\", \"user:email\", [email, hmac]]);\n    };\n    CrispUser.prototype.setPhone = function (phone) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"set\", \"user:phone\", [phone]]);\n    };\n    CrispUser.prototype.setAvatar = function (avatar) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"set\", \"user:avatar\", [avatar]]);\n    };\n    CrispUser.prototype.setCompany = function (name, data) {\n        var _payload = {};\n        if (data && data.url) {\n            _payload.url = data.url;\n        }\n        if (data && data.description) {\n            _payload.description = data.description;\n        }\n        if (data && data.employment) {\n            _payload.employment = [\n                data.employment.title\n            ];\n            if (data.employment.role) {\n                _payload.employment.push(data.employment.role);\n            }\n        }\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"set\", \"user:company\", [name, _payload]]);\n    };\n    CrispUser.prototype.getEmail = function () {\n        if (!this.parent.isCrispInjected()) {\n            return null;\n        }\n        return window.$crisp.get(\"user:email\");\n    };\n    CrispUser.prototype.getPhone = function () {\n        if (!this.parent.isCrispInjected()) {\n            return null;\n        }\n        return window.$crisp.get(\"user:phone\");\n    };\n    CrispUser.prototype.getNickname = function () {\n        if (!this.parent.isCrispInjected()) {\n            return null;\n        }\n        return window.$crisp.get(\"user:nickname\");\n    };\n    CrispUser.prototype.getAvatar = function () {\n        if (!this.parent.isCrispInjected()) {\n            return null;\n        }\n        return window.$crisp.get(\"user:avatar\");\n    };\n    CrispUser.prototype.getCompany = function () {\n        if (!this.parent.isCrispInjected()) {\n            return null;\n        }\n        return window.$crisp.get(\"user:company\");\n    };\n    CrispUser.prototype.onEmailChanged = function (callback) {\n        if (this.parent.isCrispInjected()) {\n            window.$crisp.push([\"off\", \"user:email:changed\"]);\n            window.$crisp.push([\"on\", \"user:email:changed\", callback]);\n        }\n    };\n    CrispUser.prototype.onPhoneChanged = function (callback) {\n        if (this.parent.isCrispInjected()) {\n            window.$crisp.push([\"off\", \"user:phone:changed\"]);\n            window.$crisp.push([\"on\", \"user:phone:changed\", callback]);\n        }\n    };\n    CrispUser.prototype.onNicknameChanged = function (callback) {\n        if (this.parent.isCrispInjected()) {\n            window.$crisp.push([\"off\", \"user:nickname:changed\"]);\n            window.$crisp.push([\"on\", \"user:nickname:changed\", callback]);\n        }\n    };\n    CrispUser.prototype.onAvatarChanged = function (callback) {\n        if (this.parent.isCrispInjected()) {\n            window.$crisp.push([\"off\", \"user:avatar:changed\"]);\n            window.$crisp.push([\"on\", \"user:avatar:changed\", callback]);\n        }\n    };\n    return CrispUser;\n}());\n\nvar CrispTrigger = /** @class */ (function () {\n    function CrispTrigger(crisp) {\n        this.parent = crisp;\n    }\n    CrispTrigger.prototype.run = function (name) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"do\", \"trigger:run\", [name]]);\n    };\n    return CrispTrigger;\n}());\n\nvar EventsColors;\n(function (EventsColors) {\n    EventsColors[\"Red\"] = \"red\";\n    EventsColors[\"Orange\"] = \"orange\";\n    EventsColors[\"Yellow\"] = \"yellow\";\n    EventsColors[\"Green\"] = \"green\";\n    EventsColors[\"Blue\"] = \"blue\";\n    EventsColors[\"Purple\"] = \"purple\";\n    EventsColors[\"Pink\"] = \"pink\";\n    EventsColors[\"Brown\"] = \"brown\";\n    EventsColors[\"Grey\"] = \"grey\";\n    EventsColors[\"Black\"] = \"black\";\n})(EventsColors || (EventsColors = {}));\nvar CrispSession = /** @class */ (function () {\n    function CrispSession(crisp) {\n        this.parent = crisp;\n    }\n    CrispSession.prototype.reset = function (reload) {\n        if (reload === void 0) { reload = false; }\n        if (this.parent.isCrispInjected()) {\n            window.$crisp.do(\"session:reset\", [reload]);\n        }\n    };\n    CrispSession.prototype.setSegments = function (segments, overwrite) {\n        this.parent.createSingletonIfNecessary();\n        $crisp.push([\"set\", \"session:segments\", [segments, overwrite]]);\n    };\n    CrispSession.prototype.setData = function (data) {\n        var _this = this;\n        var _payload = [];\n        Object.entries(data).forEach(function (item) {\n            if (_this.isValidDataValue(item[0])) {\n                _payload.push([item[0], item[1]]);\n            }\n        });\n        this.parent.createSingletonIfNecessary();\n        $crisp.push([\"set\", \"session:data\", [_payload]]);\n    };\n    CrispSession.prototype.pushEvent = function (name, data, color) {\n        if (data === void 0) { data = {}; }\n        if (color === void 0) { color = EventsColors.Blue; }\n        if (this.parent.isCrispInjected()) {\n            window.$crisp.push([\"set\", \"session:event\", [[[name, data, color]]]]);\n        }\n    };\n    CrispSession.prototype.getData = function (key) {\n        if (!this.parent.isCrispInjected()) {\n            return undefined;\n        }\n        return window.$crisp.get(\"session:data\", key);\n    };\n    CrispSession.prototype.getIdentifier = function () {\n        if (!this.parent.isCrispInjected()) {\n            return null;\n        }\n        return window.$crisp.get(\"session:identifier\");\n    };\n    CrispSession.prototype.onLoaded = function (callback) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"off\", \"session:loaded\"]);\n        window.$crisp.push([\"on\", \"session:loaded\", callback]);\n    };\n    CrispSession.prototype.isValidDataValue = function (value) {\n        return (typeof value === \"string\" ||\n            typeof value === \"number\" ||\n            typeof value === \"boolean\");\n    };\n    return CrispSession;\n}());\n\nvar CrispChat = /** @class */ (function () {\n    function CrispChat(crisp) {\n        this.parent = crisp;\n    }\n    CrispChat.prototype.show = function () {\n        this.parent.autoInjectIfNecessary();\n        window.$crisp.push([\"do\", \"chat:show\"]);\n    };\n    CrispChat.prototype.hide = function () {\n        this.parent.autoInjectIfNecessary();\n        window.$crisp.push([\"do\", \"chat:hide\"]);\n    };\n    CrispChat.prototype.open = function () {\n        this.parent.autoInjectIfNecessary();\n        window.$crisp.push([\"do\", \"chat:open\"]);\n    };\n    CrispChat.prototype.close = function () {\n        if (this.parent.isCrispInjected()) {\n            window.$crisp.push([\"do\", \"chat:close\"]);\n        }\n    };\n    CrispChat.prototype.setHelpdeskView = function () {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"do\", \"helpdesk:search\"]);\n    };\n    CrispChat.prototype.openHelpdeskArticle = function (locale, slug, title, category) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"do\", \"helpdesk:article:open\", [locale, slug, title, category]]);\n    };\n    CrispChat.prototype.queryHelpdesk = function (query) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"do\", \"helpdesk:query\", [query]]);\n    };\n    CrispChat.prototype.unreadCount = function () {\n        if (!this.parent.isCrispInjected()) {\n            return 0;\n        }\n        return window.$crisp.get(\"chat:unread:count\");\n    };\n    CrispChat.prototype.isChatOpened = function () {\n        if (!this.parent.isCrispInjected()) {\n            return false;\n        }\n        return window.$crisp.is(\"chat:opened\");\n    };\n    CrispChat.prototype.isVisible = function () {\n        if (!this.parent.isCrispInjected()) {\n            return false;\n        }\n        return window.$crisp.is(\"chat:visible\");\n    };\n    CrispChat.prototype.onChatInitiated = function (callback) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"off\", \"chat:initiated\"]);\n        window.$crisp.push([\"on\", \"chat:initiated\", callback]);\n    };\n    CrispChat.prototype.onChatOpened = function (callback) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"off\", \"chat:opened\"]);\n        window.$crisp.push([\"on\", \"chat:opened\", callback]);\n    };\n    CrispChat.prototype.onChatClosed = function (callback) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"off\", \"chat:closed\"]);\n        window.$crisp.push([\"on\", \"chat:closed\", callback]);\n    };\n    CrispChat.prototype.onHelpdeskQueried = function (callback) {\n        this.parent.createSingletonIfNecessary();\n        window.$crisp.push([\"off\", \"helpdesk:queried\"]);\n        window.$crisp.push([\"on\", \"helpdesk:queried\", callback]);\n    };\n    return CrispChat;\n}());\n\nvar ChatboxColors;\n(function (ChatboxColors) {\n    ChatboxColors[\"Default\"] = \"default\";\n    ChatboxColors[\"Amber\"] = \"amber\";\n    ChatboxColors[\"Black\"] = \"black\";\n    ChatboxColors[\"Blue\"] = \"blue\";\n    ChatboxColors[\"BlueGrey\"] = \"blue_grey\";\n    ChatboxColors[\"LightBlue\"] = \"light_blue\";\n    ChatboxColors[\"Brown\"] = \"brown\";\n    ChatboxColors[\"Cyan\"] = \"cyan\";\n    ChatboxColors[\"Green\"] = \"green\";\n    ChatboxColors[\"LightGreen\"] = \"light_green\";\n    ChatboxColors[\"Grey\"] = \"grey\";\n    ChatboxColors[\"Indigo\"] = \"indigo\";\n    ChatboxColors[\"Orange\"] = \"orange\";\n    ChatboxColors[\"DeepOrange\"] = \"deep_orange\";\n    ChatboxColors[\"Pink\"] = \"pink\";\n    ChatboxColors[\"Purple\"] = \"purple\";\n    ChatboxColors[\"DeepPurple\"] = \"deep_purple\";\n    ChatboxColors[\"Red\"] = \"red\";\n    ChatboxColors[\"Teal\"] = \"teal\";\n})(ChatboxColors || (ChatboxColors = {}));\nvar ChatboxPosition;\n(function (ChatboxPosition) {\n    ChatboxPosition[\"Left\"] = \"left\";\n    ChatboxPosition[\"Right\"] = \"right\";\n})(ChatboxPosition || (ChatboxPosition = {}));\nvar Crisp = /** @class */ (function () {\n    function Crisp() {\n        // Options\n        this.clientUrl = \"https://client.crisp.chat/l.js\";\n        this.websiteId = \"\";\n        this.autoload = true;\n        // States\n        this.injected = false;\n        this.chat = new CrispChat(this);\n        this.session = new CrispSession(this);\n        this.user = new CrispUser(this);\n        this.message = new CrispMessage(this);\n        this.trigger = new CrispTrigger(this);\n    }\n    Crisp.prototype.configure = function (websiteId, options) {\n        if (options === void 0) { options = {}; }\n        this.websiteId = websiteId;\n        this.tokenId = options.tokenId;\n        this.locale = options.locale;\n        this.sessionMerge = options.sessionMerge;\n        this.cookieDomain = options.cookieDomain;\n        this.cookieExpire = options.cookieExpire;\n        this.lockFullview = options.lockFullview;\n        this.lockMaximized = options.lockMaximized;\n        this.safeMode = options.safeMode;\n        if (options.clientUrl !== undefined) {\n            this.clientUrl = options.clientUrl;\n        }\n        if (options.autoload !== undefined) {\n            this.autoload = options.autoload;\n        }\n        // Autoload Crisp if option is enabled\n        if (this.autoload) {\n            this.load();\n        }\n    };\n    Crisp.prototype.load = function () {\n        var _head = document.getElementsByTagName(\"head\");\n        this.createSingletonIfNecessary();\n        // Prevents from loading Crisp twice\n        if (this.isCrispInjected() === true) {\n            return;\n        }\n        if (!this.websiteId) {\n            throw new Error(\"websiteId must be set before loading Crisp\");\n        }\n        window.CRISP_WEBSITE_ID = this.websiteId;\n        window.CRISP_RUNTIME_CONFIG = {};\n        if (this.tokenId) {\n            window.CRISP_TOKEN_ID = this.tokenId;\n        }\n        if (this.sessionMerge) {\n            window.CRISP_RUNTIME_CONFIG.session_merge = true;\n        }\n        if (this.locale) {\n            window.CRISP_RUNTIME_CONFIG.locale = this.locale;\n        }\n        if (this.lockFullview) {\n            window.CRISP_RUNTIME_CONFIG.lock_full_view = true;\n        }\n        if (this.lockMaximized) {\n            window.CRISP_RUNTIME_CONFIG.lock_maximized = true;\n        }\n        if (this.cookieDomain) {\n            window.CRISP_COOKIE_DOMAIN = this.cookieDomain;\n        }\n        if (this.cookieExpire) {\n            window.CRISP_COOKIE_EXPIRE = this.cookieExpire;\n        }\n        if (!_head || !_head[0]) {\n            return this.deferredLoading();\n        }\n        if (this.safeMode === true) {\n            this.setSafeMode(true);\n        }\n        var _script = document.createElement(\"script\");\n        _script.src = this.clientUrl;\n        _script.async = true;\n        _head[0].appendChild(_script);\n        this.injected = true;\n    };\n    Crisp.prototype.setTokenId = function (tokenId) {\n        this.tokenId = tokenId;\n        // Refresh injected token?\n        if (this.isCrispInjected() === true) {\n            if (tokenId) {\n                window.CRISP_TOKEN_ID = tokenId;\n            }\n            else {\n                delete window.CRISP_TOKEN_ID;\n            }\n        }\n    };\n    Crisp.prototype.setZIndex = function (zIndex) {\n        this.createSingletonIfNecessary();\n        window.$crisp.push([\"config\", \"container:index\", [zIndex]]);\n    };\n    Crisp.prototype.setColorTheme = function (color) {\n        this.createSingletonIfNecessary();\n        window.$crisp.push([\"config\", \"color:theme\", [color]]);\n    };\n    Crisp.prototype.setHideOnAway = function (enabled) {\n        this.createSingletonIfNecessary();\n        window.$crisp.push([\"config\", \"hide:on:away\", [enabled]]);\n    };\n    Crisp.prototype.setHideOnMobile = function (enabled) {\n        this.createSingletonIfNecessary();\n        window.$crisp.push([\"config\", \"hide:on:mobile\", [enabled]]);\n    };\n    Crisp.prototype.setPosition = function (position) {\n        this.createSingletonIfNecessary();\n        $crisp.push([\"config\", \"position:reverse\", [position === ChatboxPosition.Left]]);\n    };\n    Crisp.prototype.setAvailabilityTooltip = function (enabled) {\n        this.createSingletonIfNecessary();\n        window.$crisp.push([\"config\", \"availability:tooltip\", [enabled]]);\n    };\n    Crisp.prototype.setVacationMode = function (enabled) {\n        this.createSingletonIfNecessary();\n        window.$crisp.push([\"config\", \"hide:vacation\", [enabled]]);\n    };\n    Crisp.prototype.setSafeMode = function (safe) {\n        if (safe === void 0) { safe = true; }\n        this.createSingletonIfNecessary();\n        window.$crisp.push([\"safe\", safe]);\n    };\n    Crisp.prototype.muteSound = function (mute) {\n        this.createSingletonIfNecessary();\n        window.$crisp.push([\"config\", \"sound:mute\", [mute]]);\n    };\n    Crisp.prototype.toggleOperatorCount = function (enabled) {\n        this.createSingletonIfNecessary();\n        window.$crisp.push([\"config\", \"show:operator:count\", [enabled]]);\n    };\n    Crisp.prototype.onWebsiteAvailabilityChanged = function (callback) {\n        this.createSingletonIfNecessary();\n        window.$crisp.push([\"off\", \"website:availability:changed\"]);\n        window.$crisp.push([\"on\", \"website:availability:changed\", callback]);\n    };\n    Crisp.prototype.createSingletonIfNecessary = function () {\n        // Assigns $crisp singleton\n        if (window.$crisp === undefined) {\n            window.$crisp = [];\n        }\n    };\n    Crisp.prototype.autoInjectIfNecessary = function () {\n        if (!this.isCrispInjected()) {\n            this.load();\n        }\n    };\n    Crisp.prototype.isCrispInjected = function () {\n        // Check if Crisp was injected (either from the Web SDK, or from another \\\n        //   source)\n        if (this.injected === true || (window.$crisp && window.$crisp.is)) {\n            return true;\n        }\n        return false;\n    };\n    Crisp.prototype.deferredLoading = function () {\n        var _this = this;\n        document.addEventListener(\"DOMContentLoaded\", function () {\n            _this.load();\n        });\n    };\n    return Crisp;\n}());\nvar singleton = new Crisp();\n\n\n//# sourceMappingURL=crisp.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY3Jpc3Atc2RrLXdlYi9kaXN0L2NyaXNwLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvQ0FBb0M7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0IsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHNDQUFzQztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMENBQTBDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFaUc7QUFDakciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaGlwLWZhc3QtY29kZS8uL25vZGVfbW9kdWxlcy9jcmlzcC1zZGstd2ViL2Rpc3QvY3Jpc3AuZXNtLmpzPzFiYjgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIENyaXNwTWVzc2FnZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDcmlzcE1lc3NhZ2UoY3Jpc3ApIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBjcmlzcDtcbiAgICB9XG4gICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKHR5cGUsIGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcImRvXCIsIFwibWVzc2FnZTpzZW5kXCIsIFt0eXBlLCBjb250ZW50XV0pO1xuICAgIH07XG4gICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5zZW5kVGV4dCA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgIHRoaXMuc2VuZChcInRleHRcIiwgY29udGVudCk7XG4gICAgfTtcbiAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLnNlbmRGaWxlID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5zZW5kKFwiZmlsZVwiLCBjb250ZW50KTtcbiAgICB9O1xuICAgIENyaXNwTWVzc2FnZS5wcm90b3R5cGUuc2VuZEFuaW1hdGlvbiA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgIHRoaXMuc2VuZChcImFuaW1hdGlvblwiLCBjb250ZW50KTtcbiAgICB9O1xuICAgIENyaXNwTWVzc2FnZS5wcm90b3R5cGUuc2VuZEF1ZGlvID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5zZW5kKFwiYXVkaW9cIiwgY29udGVudCk7XG4gICAgfTtcbiAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAodHlwZSwgY29udGVudCkge1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiZG9cIiwgXCJtZXNzYWdlOnNob3dcIiwgW3R5cGUsIGNvbnRlbnRdXSk7XG4gICAgfTtcbiAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLnNob3dUZXh0ID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5zaG93KFwidGV4dFwiLCBjb250ZW50KTtcbiAgICB9O1xuICAgIENyaXNwTWVzc2FnZS5wcm90b3R5cGUuc2hvd0ZpbGUgPSBmdW5jdGlvbiAoY29udGVudCkge1xuICAgICAgICB0aGlzLnNob3coXCJmaWxlXCIsIGNvbnRlbnQpO1xuICAgIH07XG4gICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5zaG93QW5pbWF0aW9uID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5zaG93KFwiYW5pbWF0aW9uXCIsIGNvbnRlbnQpO1xuICAgIH07XG4gICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5zaG93QXVkaW8gPSBmdW5jdGlvbiAoY29udGVudCkge1xuICAgICAgICB0aGlzLnNob3coXCJhdWRpb1wiLCBjb250ZW50KTtcbiAgICB9O1xuICAgIENyaXNwTWVzc2FnZS5wcm90b3R5cGUuc2hvd1BpY2tlciA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgIHRoaXMuc2hvdyhcInBpY2tlclwiLCBjb250ZW50KTtcbiAgICB9O1xuICAgIENyaXNwTWVzc2FnZS5wcm90b3R5cGUuc2hvd0ZpZWxkID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5zaG93KFwiZmllbGRcIiwgY29udGVudCk7XG4gICAgfTtcbiAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLnNob3dDYXJvdXNlbCA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgIHRoaXMuc2hvdyhcImNhcm91c2VsXCIsIGNvbnRlbnQpO1xuICAgIH07XG4gICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5tYXJrQXNSZWFkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiZG9cIiwgXCJtZXNzYWdlOnJlYWRcIl0pO1xuICAgIH07XG4gICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5zdGFydFRocmVhZCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJkb1wiLCBcIm1lc3NhZ2U6dGhyZWFkOnN0YXJ0XCIsIFtuYW1lXV0pO1xuICAgIH07XG4gICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5lbmRUaHJlYWQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiZG9cIiwgXCJtZXNzYWdlOnRocmVhZDplbmRcIiwgW25hbWVdXSk7XG4gICAgfTtcbiAgICBDcmlzcE1lc3NhZ2UucHJvdG90eXBlLm9uTWVzc2FnZVNlbnQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9mZlwiLCBcIm1lc3NhZ2U6c2VudFwiXSk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvblwiLCBcIm1lc3NhZ2U6c2VudFwiLCBjYWxsYmFja10pO1xuICAgIH07XG4gICAgQ3Jpc3BNZXNzYWdlLnByb3RvdHlwZS5vbk1lc3NhZ2VSZWNlaXZlZCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib2ZmXCIsIFwibWVzc2FnZTpyZWNlaXZlZFwiXSk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvblwiLCBcIm1lc3NhZ2U6cmVjZWl2ZWRcIiwgY2FsbGJhY2tdKTtcbiAgICB9O1xuICAgIENyaXNwTWVzc2FnZS5wcm90b3R5cGUub25NZXNzYWdlQ29tcG9zZVNlbnQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9mZlwiLCBcIm1lc3NhZ2U6Y29tcG9zZTpzZW50XCJdKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9uXCIsIFwibWVzc2FnZTpjb21wb3NlOnNlbnRcIiwgY2FsbGJhY2tdKTtcbiAgICB9O1xuICAgIENyaXNwTWVzc2FnZS5wcm90b3R5cGUub25NZXNzYWdlQ29tcG9zZVJlY2VpdmVkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvZmZcIiwgXCJtZXNzYWdlOmNvbXBvc2U6cmVjZWl2ZWRcIl0pO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib25cIiwgXCJtZXNzYWdlOmNvbXBvc2U6cmVjZWl2ZWRcIiwgY2FsbGJhY2tdKTtcbiAgICB9O1xuICAgIHJldHVybiBDcmlzcE1lc3NhZ2U7XG59KCkpO1xuXG52YXIgQ3Jpc3BVc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENyaXNwVXNlcihjcmlzcCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IGNyaXNwO1xuICAgIH1cbiAgICBDcmlzcFVzZXIucHJvdG90eXBlLnNldE5pY2tuYW1lID0gZnVuY3Rpb24gKG5pY2tuYW1lKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJzZXRcIiwgXCJ1c2VyOm5pY2tuYW1lXCIsIFtuaWNrbmFtZV1dKTtcbiAgICB9O1xuICAgIENyaXNwVXNlci5wcm90b3R5cGUuc2V0RW1haWwgPSBmdW5jdGlvbiAoZW1haWwsIGhtYWMpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcInNldFwiLCBcInVzZXI6ZW1haWxcIiwgW2VtYWlsLCBobWFjXV0pO1xuICAgIH07XG4gICAgQ3Jpc3BVc2VyLnByb3RvdHlwZS5zZXRQaG9uZSA9IGZ1bmN0aW9uIChwaG9uZSkge1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wic2V0XCIsIFwidXNlcjpwaG9uZVwiLCBbcGhvbmVdXSk7XG4gICAgfTtcbiAgICBDcmlzcFVzZXIucHJvdG90eXBlLnNldEF2YXRhciA9IGZ1bmN0aW9uIChhdmF0YXIpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcInNldFwiLCBcInVzZXI6YXZhdGFyXCIsIFthdmF0YXJdXSk7XG4gICAgfTtcbiAgICBDcmlzcFVzZXIucHJvdG90eXBlLnNldENvbXBhbnkgPSBmdW5jdGlvbiAobmFtZSwgZGF0YSkge1xuICAgICAgICB2YXIgX3BheWxvYWQgPSB7fTtcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS51cmwpIHtcbiAgICAgICAgICAgIF9wYXlsb2FkLnVybCA9IGRhdGEudXJsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIF9wYXlsb2FkLmRlc2NyaXB0aW9uID0gZGF0YS5kZXNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmVtcGxveW1lbnQpIHtcbiAgICAgICAgICAgIF9wYXlsb2FkLmVtcGxveW1lbnQgPSBbXG4gICAgICAgICAgICAgICAgZGF0YS5lbXBsb3ltZW50LnRpdGxlXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgaWYgKGRhdGEuZW1wbG95bWVudC5yb2xlKSB7XG4gICAgICAgICAgICAgICAgX3BheWxvYWQuZW1wbG95bWVudC5wdXNoKGRhdGEuZW1wbG95bWVudC5yb2xlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wic2V0XCIsIFwidXNlcjpjb21wYW55XCIsIFtuYW1lLCBfcGF5bG9hZF1dKTtcbiAgICB9O1xuICAgIENyaXNwVXNlci5wcm90b3R5cGUuZ2V0RW1haWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3aW5kb3cuJGNyaXNwLmdldChcInVzZXI6ZW1haWxcIik7XG4gICAgfTtcbiAgICBDcmlzcFVzZXIucHJvdG90eXBlLmdldFBob25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMucGFyZW50LmlzQ3Jpc3BJbmplY3RlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2luZG93LiRjcmlzcC5nZXQoXCJ1c2VyOnBob25lXCIpO1xuICAgIH07XG4gICAgQ3Jpc3BVc2VyLnByb3RvdHlwZS5nZXROaWNrbmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudC5pc0NyaXNwSW5qZWN0ZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpbmRvdy4kY3Jpc3AuZ2V0KFwidXNlcjpuaWNrbmFtZVwiKTtcbiAgICB9O1xuICAgIENyaXNwVXNlci5wcm90b3R5cGUuZ2V0QXZhdGFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMucGFyZW50LmlzQ3Jpc3BJbmplY3RlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2luZG93LiRjcmlzcC5nZXQoXCJ1c2VyOmF2YXRhclwiKTtcbiAgICB9O1xuICAgIENyaXNwVXNlci5wcm90b3R5cGUuZ2V0Q29tcGFueSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudC5pc0NyaXNwSW5qZWN0ZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpbmRvdy4kY3Jpc3AuZ2V0KFwidXNlcjpjb21wYW55XCIpO1xuICAgIH07XG4gICAgQ3Jpc3BVc2VyLnByb3RvdHlwZS5vbkVtYWlsQ2hhbmdlZCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvZmZcIiwgXCJ1c2VyOmVtYWlsOmNoYW5nZWRcIl0pO1xuICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9uXCIsIFwidXNlcjplbWFpbDpjaGFuZ2VkXCIsIGNhbGxiYWNrXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENyaXNwVXNlci5wcm90b3R5cGUub25QaG9uZUNoYW5nZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50LmlzQ3Jpc3BJbmplY3RlZCgpKSB7XG4gICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib2ZmXCIsIFwidXNlcjpwaG9uZTpjaGFuZ2VkXCJdKTtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvblwiLCBcInVzZXI6cGhvbmU6Y2hhbmdlZFwiLCBjYWxsYmFja10pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDcmlzcFVzZXIucHJvdG90eXBlLm9uTmlja25hbWVDaGFuZ2VkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudC5pc0NyaXNwSW5qZWN0ZWQoKSkge1xuICAgICAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9mZlwiLCBcInVzZXI6bmlja25hbWU6Y2hhbmdlZFwiXSk7XG4gICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib25cIiwgXCJ1c2VyOm5pY2tuYW1lOmNoYW5nZWRcIiwgY2FsbGJhY2tdKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ3Jpc3BVc2VyLnByb3RvdHlwZS5vbkF2YXRhckNoYW5nZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50LmlzQ3Jpc3BJbmplY3RlZCgpKSB7XG4gICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib2ZmXCIsIFwidXNlcjphdmF0YXI6Y2hhbmdlZFwiXSk7XG4gICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib25cIiwgXCJ1c2VyOmF2YXRhcjpjaGFuZ2VkXCIsIGNhbGxiYWNrXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDcmlzcFVzZXI7XG59KCkpO1xuXG52YXIgQ3Jpc3BUcmlnZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENyaXNwVHJpZ2dlcihjcmlzcCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IGNyaXNwO1xuICAgIH1cbiAgICBDcmlzcFRyaWdnZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJkb1wiLCBcInRyaWdnZXI6cnVuXCIsIFtuYW1lXV0pO1xuICAgIH07XG4gICAgcmV0dXJuIENyaXNwVHJpZ2dlcjtcbn0oKSk7XG5cbnZhciBFdmVudHNDb2xvcnM7XG4oZnVuY3Rpb24gKEV2ZW50c0NvbG9ycykge1xuICAgIEV2ZW50c0NvbG9yc1tcIlJlZFwiXSA9IFwicmVkXCI7XG4gICAgRXZlbnRzQ29sb3JzW1wiT3JhbmdlXCJdID0gXCJvcmFuZ2VcIjtcbiAgICBFdmVudHNDb2xvcnNbXCJZZWxsb3dcIl0gPSBcInllbGxvd1wiO1xuICAgIEV2ZW50c0NvbG9yc1tcIkdyZWVuXCJdID0gXCJncmVlblwiO1xuICAgIEV2ZW50c0NvbG9yc1tcIkJsdWVcIl0gPSBcImJsdWVcIjtcbiAgICBFdmVudHNDb2xvcnNbXCJQdXJwbGVcIl0gPSBcInB1cnBsZVwiO1xuICAgIEV2ZW50c0NvbG9yc1tcIlBpbmtcIl0gPSBcInBpbmtcIjtcbiAgICBFdmVudHNDb2xvcnNbXCJCcm93blwiXSA9IFwiYnJvd25cIjtcbiAgICBFdmVudHNDb2xvcnNbXCJHcmV5XCJdID0gXCJncmV5XCI7XG4gICAgRXZlbnRzQ29sb3JzW1wiQmxhY2tcIl0gPSBcImJsYWNrXCI7XG59KShFdmVudHNDb2xvcnMgfHwgKEV2ZW50c0NvbG9ycyA9IHt9KSk7XG52YXIgQ3Jpc3BTZXNzaW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENyaXNwU2Vzc2lvbihjcmlzcCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IGNyaXNwO1xuICAgIH1cbiAgICBDcmlzcFNlc3Npb24ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKHJlbG9hZCkge1xuICAgICAgICBpZiAocmVsb2FkID09PSB2b2lkIDApIHsgcmVsb2FkID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKHRoaXMucGFyZW50LmlzQ3Jpc3BJbmplY3RlZCgpKSB7XG4gICAgICAgICAgICB3aW5kb3cuJGNyaXNwLmRvKFwic2Vzc2lvbjpyZXNldFwiLCBbcmVsb2FkXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENyaXNwU2Vzc2lvbi5wcm90b3R5cGUuc2V0U2VnbWVudHMgPSBmdW5jdGlvbiAoc2VnbWVudHMsIG92ZXJ3cml0ZSkge1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICAkY3Jpc3AucHVzaChbXCJzZXRcIiwgXCJzZXNzaW9uOnNlZ21lbnRzXCIsIFtzZWdtZW50cywgb3ZlcndyaXRlXV0pO1xuICAgIH07XG4gICAgQ3Jpc3BTZXNzaW9uLnByb3RvdHlwZS5zZXREYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9wYXlsb2FkID0gW107XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGRhdGEpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5pc1ZhbGlkRGF0YVZhbHVlKGl0ZW1bMF0pKSB7XG4gICAgICAgICAgICAgICAgX3BheWxvYWQucHVzaChbaXRlbVswXSwgaXRlbVsxXV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgJGNyaXNwLnB1c2goW1wic2V0XCIsIFwic2Vzc2lvbjpkYXRhXCIsIFtfcGF5bG9hZF1dKTtcbiAgICB9O1xuICAgIENyaXNwU2Vzc2lvbi5wcm90b3R5cGUucHVzaEV2ZW50ID0gZnVuY3Rpb24gKG5hbWUsIGRhdGEsIGNvbG9yKSB7XG4gICAgICAgIGlmIChkYXRhID09PSB2b2lkIDApIHsgZGF0YSA9IHt9OyB9XG4gICAgICAgIGlmIChjb2xvciA9PT0gdm9pZCAwKSB7IGNvbG9yID0gRXZlbnRzQ29sb3JzLkJsdWU7IH1cbiAgICAgICAgaWYgKHRoaXMucGFyZW50LmlzQ3Jpc3BJbmplY3RlZCgpKSB7XG4gICAgICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wic2V0XCIsIFwic2Vzc2lvbjpldmVudFwiLCBbW1tuYW1lLCBkYXRhLCBjb2xvcl1dXV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDcmlzcFNlc3Npb24ucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICghdGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpbmRvdy4kY3Jpc3AuZ2V0KFwic2Vzc2lvbjpkYXRhXCIsIGtleSk7XG4gICAgfTtcbiAgICBDcmlzcFNlc3Npb24ucHJvdG90eXBlLmdldElkZW50aWZpZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3aW5kb3cuJGNyaXNwLmdldChcInNlc3Npb246aWRlbnRpZmllclwiKTtcbiAgICB9O1xuICAgIENyaXNwU2Vzc2lvbi5wcm90b3R5cGUub25Mb2FkZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9mZlwiLCBcInNlc3Npb246bG9hZGVkXCJdKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9uXCIsIFwic2Vzc2lvbjpsb2FkZWRcIiwgY2FsbGJhY2tdKTtcbiAgICB9O1xuICAgIENyaXNwU2Vzc2lvbi5wcm90b3R5cGUuaXNWYWxpZERhdGFWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiB8fFxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiIHx8XG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiKTtcbiAgICB9O1xuICAgIHJldHVybiBDcmlzcFNlc3Npb247XG59KCkpO1xuXG52YXIgQ3Jpc3BDaGF0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENyaXNwQ2hhdChjcmlzcCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IGNyaXNwO1xuICAgIH1cbiAgICBDcmlzcENoYXQucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmF1dG9JbmplY3RJZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiZG9cIiwgXCJjaGF0OnNob3dcIl0pO1xuICAgIH07XG4gICAgQ3Jpc3BDaGF0LnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBhcmVudC5hdXRvSW5qZWN0SWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcImRvXCIsIFwiY2hhdDpoaWRlXCJdKTtcbiAgICB9O1xuICAgIENyaXNwQ2hhdC5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuYXV0b0luamVjdElmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJkb1wiLCBcImNoYXQ6b3BlblwiXSk7XG4gICAgfTtcbiAgICBDcmlzcENoYXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJkb1wiLCBcImNoYXQ6Y2xvc2VcIl0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDcmlzcENoYXQucHJvdG90eXBlLnNldEhlbHBkZXNrVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcImRvXCIsIFwiaGVscGRlc2s6c2VhcmNoXCJdKTtcbiAgICB9O1xuICAgIENyaXNwQ2hhdC5wcm90b3R5cGUub3BlbkhlbHBkZXNrQXJ0aWNsZSA9IGZ1bmN0aW9uIChsb2NhbGUsIHNsdWcsIHRpdGxlLCBjYXRlZ29yeSkge1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiZG9cIiwgXCJoZWxwZGVzazphcnRpY2xlOm9wZW5cIiwgW2xvY2FsZSwgc2x1ZywgdGl0bGUsIGNhdGVnb3J5XV0pO1xuICAgIH07XG4gICAgQ3Jpc3BDaGF0LnByb3RvdHlwZS5xdWVyeUhlbHBkZXNrID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJkb1wiLCBcImhlbHBkZXNrOnF1ZXJ5XCIsIFtxdWVyeV1dKTtcbiAgICB9O1xuICAgIENyaXNwQ2hhdC5wcm90b3R5cGUudW5yZWFkQ291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3aW5kb3cuJGNyaXNwLmdldChcImNoYXQ6dW5yZWFkOmNvdW50XCIpO1xuICAgIH07XG4gICAgQ3Jpc3BDaGF0LnByb3RvdHlwZS5pc0NoYXRPcGVuZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2luZG93LiRjcmlzcC5pcyhcImNoYXQ6b3BlbmVkXCIpO1xuICAgIH07XG4gICAgQ3Jpc3BDaGF0LnByb3RvdHlwZS5pc1Zpc2libGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5wYXJlbnQuaXNDcmlzcEluamVjdGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2luZG93LiRjcmlzcC5pcyhcImNoYXQ6dmlzaWJsZVwiKTtcbiAgICB9O1xuICAgIENyaXNwQ2hhdC5wcm90b3R5cGUub25DaGF0SW5pdGlhdGVkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMucGFyZW50LmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvZmZcIiwgXCJjaGF0OmluaXRpYXRlZFwiXSk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvblwiLCBcImNoYXQ6aW5pdGlhdGVkXCIsIGNhbGxiYWNrXSk7XG4gICAgfTtcbiAgICBDcmlzcENoYXQucHJvdG90eXBlLm9uQ2hhdE9wZW5lZCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnBhcmVudC5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib2ZmXCIsIFwiY2hhdDpvcGVuZWRcIl0pO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib25cIiwgXCJjaGF0Om9wZW5lZFwiLCBjYWxsYmFja10pO1xuICAgIH07XG4gICAgQ3Jpc3BDaGF0LnByb3RvdHlwZS5vbkNoYXRDbG9zZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9mZlwiLCBcImNoYXQ6Y2xvc2VkXCJdKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9uXCIsIFwiY2hhdDpjbG9zZWRcIiwgY2FsbGJhY2tdKTtcbiAgICB9O1xuICAgIENyaXNwQ2hhdC5wcm90b3R5cGUub25IZWxwZGVza1F1ZXJpZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5wYXJlbnQuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcIm9mZlwiLCBcImhlbHBkZXNrOnF1ZXJpZWRcIl0pO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib25cIiwgXCJoZWxwZGVzazpxdWVyaWVkXCIsIGNhbGxiYWNrXSk7XG4gICAgfTtcbiAgICByZXR1cm4gQ3Jpc3BDaGF0O1xufSgpKTtcblxudmFyIENoYXRib3hDb2xvcnM7XG4oZnVuY3Rpb24gKENoYXRib3hDb2xvcnMpIHtcbiAgICBDaGF0Ym94Q29sb3JzW1wiRGVmYXVsdFwiXSA9IFwiZGVmYXVsdFwiO1xuICAgIENoYXRib3hDb2xvcnNbXCJBbWJlclwiXSA9IFwiYW1iZXJcIjtcbiAgICBDaGF0Ym94Q29sb3JzW1wiQmxhY2tcIl0gPSBcImJsYWNrXCI7XG4gICAgQ2hhdGJveENvbG9yc1tcIkJsdWVcIl0gPSBcImJsdWVcIjtcbiAgICBDaGF0Ym94Q29sb3JzW1wiQmx1ZUdyZXlcIl0gPSBcImJsdWVfZ3JleVwiO1xuICAgIENoYXRib3hDb2xvcnNbXCJMaWdodEJsdWVcIl0gPSBcImxpZ2h0X2JsdWVcIjtcbiAgICBDaGF0Ym94Q29sb3JzW1wiQnJvd25cIl0gPSBcImJyb3duXCI7XG4gICAgQ2hhdGJveENvbG9yc1tcIkN5YW5cIl0gPSBcImN5YW5cIjtcbiAgICBDaGF0Ym94Q29sb3JzW1wiR3JlZW5cIl0gPSBcImdyZWVuXCI7XG4gICAgQ2hhdGJveENvbG9yc1tcIkxpZ2h0R3JlZW5cIl0gPSBcImxpZ2h0X2dyZWVuXCI7XG4gICAgQ2hhdGJveENvbG9yc1tcIkdyZXlcIl0gPSBcImdyZXlcIjtcbiAgICBDaGF0Ym94Q29sb3JzW1wiSW5kaWdvXCJdID0gXCJpbmRpZ29cIjtcbiAgICBDaGF0Ym94Q29sb3JzW1wiT3JhbmdlXCJdID0gXCJvcmFuZ2VcIjtcbiAgICBDaGF0Ym94Q29sb3JzW1wiRGVlcE9yYW5nZVwiXSA9IFwiZGVlcF9vcmFuZ2VcIjtcbiAgICBDaGF0Ym94Q29sb3JzW1wiUGlua1wiXSA9IFwicGlua1wiO1xuICAgIENoYXRib3hDb2xvcnNbXCJQdXJwbGVcIl0gPSBcInB1cnBsZVwiO1xuICAgIENoYXRib3hDb2xvcnNbXCJEZWVwUHVycGxlXCJdID0gXCJkZWVwX3B1cnBsZVwiO1xuICAgIENoYXRib3hDb2xvcnNbXCJSZWRcIl0gPSBcInJlZFwiO1xuICAgIENoYXRib3hDb2xvcnNbXCJUZWFsXCJdID0gXCJ0ZWFsXCI7XG59KShDaGF0Ym94Q29sb3JzIHx8IChDaGF0Ym94Q29sb3JzID0ge30pKTtcbnZhciBDaGF0Ym94UG9zaXRpb247XG4oZnVuY3Rpb24gKENoYXRib3hQb3NpdGlvbikge1xuICAgIENoYXRib3hQb3NpdGlvbltcIkxlZnRcIl0gPSBcImxlZnRcIjtcbiAgICBDaGF0Ym94UG9zaXRpb25bXCJSaWdodFwiXSA9IFwicmlnaHRcIjtcbn0pKENoYXRib3hQb3NpdGlvbiB8fCAoQ2hhdGJveFBvc2l0aW9uID0ge30pKTtcbnZhciBDcmlzcCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDcmlzcCgpIHtcbiAgICAgICAgLy8gT3B0aW9uc1xuICAgICAgICB0aGlzLmNsaWVudFVybCA9IFwiaHR0cHM6Ly9jbGllbnQuY3Jpc3AuY2hhdC9sLmpzXCI7XG4gICAgICAgIHRoaXMud2Vic2l0ZUlkID0gXCJcIjtcbiAgICAgICAgdGhpcy5hdXRvbG9hZCA9IHRydWU7XG4gICAgICAgIC8vIFN0YXRlc1xuICAgICAgICB0aGlzLmluamVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2hhdCA9IG5ldyBDcmlzcENoYXQodGhpcyk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IG5ldyBDcmlzcFNlc3Npb24odGhpcyk7XG4gICAgICAgIHRoaXMudXNlciA9IG5ldyBDcmlzcFVzZXIodGhpcyk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG5ldyBDcmlzcE1lc3NhZ2UodGhpcyk7XG4gICAgICAgIHRoaXMudHJpZ2dlciA9IG5ldyBDcmlzcFRyaWdnZXIodGhpcyk7XG4gICAgfVxuICAgIENyaXNwLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAod2Vic2l0ZUlkLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHRoaXMud2Vic2l0ZUlkID0gd2Vic2l0ZUlkO1xuICAgICAgICB0aGlzLnRva2VuSWQgPSBvcHRpb25zLnRva2VuSWQ7XG4gICAgICAgIHRoaXMubG9jYWxlID0gb3B0aW9ucy5sb2NhbGU7XG4gICAgICAgIHRoaXMuc2Vzc2lvbk1lcmdlID0gb3B0aW9ucy5zZXNzaW9uTWVyZ2U7XG4gICAgICAgIHRoaXMuY29va2llRG9tYWluID0gb3B0aW9ucy5jb29raWVEb21haW47XG4gICAgICAgIHRoaXMuY29va2llRXhwaXJlID0gb3B0aW9ucy5jb29raWVFeHBpcmU7XG4gICAgICAgIHRoaXMubG9ja0Z1bGx2aWV3ID0gb3B0aW9ucy5sb2NrRnVsbHZpZXc7XG4gICAgICAgIHRoaXMubG9ja01heGltaXplZCA9IG9wdGlvbnMubG9ja01heGltaXplZDtcbiAgICAgICAgdGhpcy5zYWZlTW9kZSA9IG9wdGlvbnMuc2FmZU1vZGU7XG4gICAgICAgIGlmIChvcHRpb25zLmNsaWVudFVybCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNsaWVudFVybCA9IG9wdGlvbnMuY2xpZW50VXJsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9sb2FkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYXV0b2xvYWQgPSBvcHRpb25zLmF1dG9sb2FkO1xuICAgICAgICB9XG4gICAgICAgIC8vIEF1dG9sb2FkIENyaXNwIGlmIG9wdGlvbiBpcyBlbmFibGVkXG4gICAgICAgIGlmICh0aGlzLmF1dG9sb2FkKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ3Jpc3AucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKTtcbiAgICAgICAgdGhpcy5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICAvLyBQcmV2ZW50cyBmcm9tIGxvYWRpbmcgQ3Jpc3AgdHdpY2VcbiAgICAgICAgaWYgKHRoaXMuaXNDcmlzcEluamVjdGVkKCkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMud2Vic2l0ZUlkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ3ZWJzaXRlSWQgbXVzdCBiZSBzZXQgYmVmb3JlIGxvYWRpbmcgQ3Jpc3BcIik7XG4gICAgICAgIH1cbiAgICAgICAgd2luZG93LkNSSVNQX1dFQlNJVEVfSUQgPSB0aGlzLndlYnNpdGVJZDtcbiAgICAgICAgd2luZG93LkNSSVNQX1JVTlRJTUVfQ09ORklHID0ge307XG4gICAgICAgIGlmICh0aGlzLnRva2VuSWQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5DUklTUF9UT0tFTl9JRCA9IHRoaXMudG9rZW5JZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zZXNzaW9uTWVyZ2UpIHtcbiAgICAgICAgICAgIHdpbmRvdy5DUklTUF9SVU5USU1FX0NPTkZJRy5zZXNzaW9uX21lcmdlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sb2NhbGUpIHtcbiAgICAgICAgICAgIHdpbmRvdy5DUklTUF9SVU5USU1FX0NPTkZJRy5sb2NhbGUgPSB0aGlzLmxvY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sb2NrRnVsbHZpZXcpIHtcbiAgICAgICAgICAgIHdpbmRvdy5DUklTUF9SVU5USU1FX0NPTkZJRy5sb2NrX2Z1bGxfdmlldyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubG9ja01heGltaXplZCkge1xuICAgICAgICAgICAgd2luZG93LkNSSVNQX1JVTlRJTUVfQ09ORklHLmxvY2tfbWF4aW1pemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb29raWVEb21haW4pIHtcbiAgICAgICAgICAgIHdpbmRvdy5DUklTUF9DT09LSUVfRE9NQUlOID0gdGhpcy5jb29raWVEb21haW47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29va2llRXhwaXJlKSB7XG4gICAgICAgICAgICB3aW5kb3cuQ1JJU1BfQ09PS0lFX0VYUElSRSA9IHRoaXMuY29va2llRXhwaXJlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghX2hlYWQgfHwgIV9oZWFkWzBdKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZWZlcnJlZExvYWRpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zYWZlTW9kZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRTYWZlTW9kZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3NjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgIF9zY3JpcHQuc3JjID0gdGhpcy5jbGllbnRVcmw7XG4gICAgICAgIF9zY3JpcHQuYXN5bmMgPSB0cnVlO1xuICAgICAgICBfaGVhZFswXS5hcHBlbmRDaGlsZChfc2NyaXB0KTtcbiAgICAgICAgdGhpcy5pbmplY3RlZCA9IHRydWU7XG4gICAgfTtcbiAgICBDcmlzcC5wcm90b3R5cGUuc2V0VG9rZW5JZCA9IGZ1bmN0aW9uICh0b2tlbklkKSB7XG4gICAgICAgIHRoaXMudG9rZW5JZCA9IHRva2VuSWQ7XG4gICAgICAgIC8vIFJlZnJlc2ggaW5qZWN0ZWQgdG9rZW4/XG4gICAgICAgIGlmICh0aGlzLmlzQ3Jpc3BJbmplY3RlZCgpID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpZiAodG9rZW5JZCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5DUklTUF9UT0tFTl9JRCA9IHRva2VuSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgd2luZG93LkNSSVNQX1RPS0VOX0lEO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBDcmlzcC5wcm90b3R5cGUuc2V0WkluZGV4ID0gZnVuY3Rpb24gKHpJbmRleCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJjb25maWdcIiwgXCJjb250YWluZXI6aW5kZXhcIiwgW3pJbmRleF1dKTtcbiAgICB9O1xuICAgIENyaXNwLnByb3RvdHlwZS5zZXRDb2xvclRoZW1lID0gZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcImNvbmZpZ1wiLCBcImNvbG9yOnRoZW1lXCIsIFtjb2xvcl1dKTtcbiAgICB9O1xuICAgIENyaXNwLnByb3RvdHlwZS5zZXRIaWRlT25Bd2F5ID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wiY29uZmlnXCIsIFwiaGlkZTpvbjphd2F5XCIsIFtlbmFibGVkXV0pO1xuICAgIH07XG4gICAgQ3Jpc3AucHJvdG90eXBlLnNldEhpZGVPbk1vYmlsZSA9IGZ1bmN0aW9uIChlbmFibGVkKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgd2luZG93LiRjcmlzcC5wdXNoKFtcImNvbmZpZ1wiLCBcImhpZGU6b246bW9iaWxlXCIsIFtlbmFibGVkXV0pO1xuICAgIH07XG4gICAgQ3Jpc3AucHJvdG90eXBlLnNldFBvc2l0aW9uID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlU2luZ2xldG9uSWZOZWNlc3NhcnkoKTtcbiAgICAgICAgJGNyaXNwLnB1c2goW1wiY29uZmlnXCIsIFwicG9zaXRpb246cmV2ZXJzZVwiLCBbcG9zaXRpb24gPT09IENoYXRib3hQb3NpdGlvbi5MZWZ0XV0pO1xuICAgIH07XG4gICAgQ3Jpc3AucHJvdG90eXBlLnNldEF2YWlsYWJpbGl0eVRvb2x0aXAgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJjb25maWdcIiwgXCJhdmFpbGFiaWxpdHk6dG9vbHRpcFwiLCBbZW5hYmxlZF1dKTtcbiAgICB9O1xuICAgIENyaXNwLnByb3RvdHlwZS5zZXRWYWNhdGlvbk1vZGUgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJjb25maWdcIiwgXCJoaWRlOnZhY2F0aW9uXCIsIFtlbmFibGVkXV0pO1xuICAgIH07XG4gICAgQ3Jpc3AucHJvdG90eXBlLnNldFNhZmVNb2RlID0gZnVuY3Rpb24gKHNhZmUpIHtcbiAgICAgICAgaWYgKHNhZmUgPT09IHZvaWQgMCkgeyBzYWZlID0gdHJ1ZTsgfVxuICAgICAgICB0aGlzLmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJzYWZlXCIsIHNhZmVdKTtcbiAgICB9O1xuICAgIENyaXNwLnByb3RvdHlwZS5tdXRlU291bmQgPSBmdW5jdGlvbiAobXV0ZSkge1xuICAgICAgICB0aGlzLmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJjb25maWdcIiwgXCJzb3VuZDptdXRlXCIsIFttdXRlXV0pO1xuICAgIH07XG4gICAgQ3Jpc3AucHJvdG90eXBlLnRvZ2dsZU9wZXJhdG9yQ291bnQgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVNpbmdsZXRvbklmTmVjZXNzYXJ5KCk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJjb25maWdcIiwgXCJzaG93Om9wZXJhdG9yOmNvdW50XCIsIFtlbmFibGVkXV0pO1xuICAgIH07XG4gICAgQ3Jpc3AucHJvdG90eXBlLm9uV2Vic2l0ZUF2YWlsYWJpbGl0eUNoYW5nZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSgpO1xuICAgICAgICB3aW5kb3cuJGNyaXNwLnB1c2goW1wib2ZmXCIsIFwid2Vic2l0ZTphdmFpbGFiaWxpdHk6Y2hhbmdlZFwiXSk7XG4gICAgICAgIHdpbmRvdy4kY3Jpc3AucHVzaChbXCJvblwiLCBcIndlYnNpdGU6YXZhaWxhYmlsaXR5OmNoYW5nZWRcIiwgY2FsbGJhY2tdKTtcbiAgICB9O1xuICAgIENyaXNwLnByb3RvdHlwZS5jcmVhdGVTaW5nbGV0b25JZk5lY2Vzc2FyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gQXNzaWducyAkY3Jpc3Agc2luZ2xldG9uXG4gICAgICAgIGlmICh3aW5kb3cuJGNyaXNwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdpbmRvdy4kY3Jpc3AgPSBbXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ3Jpc3AucHJvdG90eXBlLmF1dG9JbmplY3RJZk5lY2Vzc2FyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQ3Jpc3BJbmplY3RlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ3Jpc3AucHJvdG90eXBlLmlzQ3Jpc3BJbmplY3RlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgQ3Jpc3Agd2FzIGluamVjdGVkIChlaXRoZXIgZnJvbSB0aGUgV2ViIFNESywgb3IgZnJvbSBhbm90aGVyIFxcXG4gICAgICAgIC8vICAgc291cmNlKVxuICAgICAgICBpZiAodGhpcy5pbmplY3RlZCA9PT0gdHJ1ZSB8fCAod2luZG93LiRjcmlzcCAmJiB3aW5kb3cuJGNyaXNwLmlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgQ3Jpc3AucHJvdG90eXBlLmRlZmVycmVkTG9hZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMubG9hZCgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBDcmlzcDtcbn0oKSk7XG52YXIgc2luZ2xldG9uID0gbmV3IENyaXNwKCk7XG5cbmV4cG9ydCB7IENoYXRib3hDb2xvcnMsIENoYXRib3hQb3NpdGlvbiwgc2luZ2xldG9uIGFzIENyaXNwLCBDcmlzcCBhcyBDcmlzcENsYXNzLCBFdmVudHNDb2xvcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyaXNwLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/crisp-sdk-web/dist/crisp.esm.js\n");

/***/ })

};
;